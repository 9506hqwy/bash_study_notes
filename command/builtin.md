# ビルトインのコマンド

## ```:``` コマンド

```yes``` と同じ。

## ```exec``` コマンド

新たなプロセスを生成せずにコマンドを実行する。

```sh
exec CMD
```

現在のプロセスのリダイレクト先を変更する。以降の標準出力が ```OUTPUT``` になる。

```sh
exec > OUTPUT
```

## ```printf``` コマンド

```-v``` オプションで標準出力の代わりに変数に代入する。

```sh
printf -v val "%d" 1
```

改行コードも含めて代入する。

```sh
printf -v val "a\n"
```

`$(...)` を使用すると改行は取り除かれる。

```sh
val=$(echo -e "a\n")
```

## ```read``` コマンド

標準入力から $IFS で区切った文字の配列を代入する。

```sh
read val1 val2 ...
```

行全体を 1 つの変数で読み取る場合は $IFS を空文字に設定する。

```sh
IFS= read line
```

$IFS にエスケープ文字を設定する場合は $ を付けてシングルクォートで囲む。

```sh
IFS=$'\n'
```

## ```set``` コマンド

シェルのオプションを確認する。

```sh
set -o
```

引数を設定する。

```sh
set 'a' 'b' 'c'
echo $*
```

## ```trap``` コマンド

0(EXIT) や ```kill -l``` のシグナルを捕捉してコマンドを実行する。

EXIT シグナルで ```CMD``` を実行する。

```sh
trap CMD EXIT
```

特殊なシグナルは以下がある。

| シグナル名 | 説明             |
| ---------- | ---------------- |
| DEBUG      | コマンドの実行前 |
| ERR        | コマンド失敗時   |
| EXIT       | シェル終了時     |
| RETURN     | 関数実行後       |

## ```builtin``` コマンド

エイリアスや関数ではなく組み込みコマンドを実行する。

```sh
builtin pwd
```

## ```command``` コマンド

エイリアスや関数ではなくコマンドを実行する。

```sh
command sed
```

## ```declare``` コマンド

変数を参照や定義する。

```sh
declare -p
```

## ```select``` コマンド

番号付きの選択肢を表示する。

```sh
 select f in *
 do
     echo $f
     break
 done
```
